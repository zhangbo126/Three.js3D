"use strict";(self["webpackChunkprodect"]=self["webpackChunkprodect"]||[]).push([[742],{6821:function(e,t,n){n.r(t)},4151:function(e,t,n){var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var u=arguments[t],o=0,a=u.length;o<a;o++,i++)r[i]=u[o];return r};t.__esModule=!0;var i=n(1175),u=n(7048);t["default"]=i.defineComponent({name:"DraggableContainer",props:{disabled:{type:Boolean,default:!1},adsorbParent:{type:Boolean,default:!0},adsorbCols:{type:Array,default:null},adsorbRows:{type:Array,default:null},referenceLineVisible:{type:Boolean,default:!0},referenceLineColor:{type:String,default:"#f00"}},setup:function(e){var t=i.reactive({}),n=function(e,n){t[e]=n},r=function(e){var n=Object.assign({},t);return e&&delete n[e],n},o=i.reactive({matchedLine:null}),a=i.computed((function(){return o.matchedLine&&o.matchedLine.row||[]})),l=i.computed((function(){return o.matchedLine&&o.matchedLine.col||[]})),c=function(e){o.matchedLine=e};return i.provide("identity",u.IDENTITY),i.provide("updatePosition",n),i.provide("getPositionStore",r),i.provide("setMatchedLine",c),i.provide("disabled",i.toRef(e,"disabled")),i.provide("adsorbParent",i.toRef(e,"adsorbParent")),i.provide("adsorbCols",e.adsorbCols||[]),i.provide("adsorbRows",e.adsorbRows||[]),{matchedRows:a,matchedCols:l}},methods:{renderReferenceLine:function(){var e=this;return this.referenceLineVisible?r(this.matchedCols.map((function(t){return i.h("div",{style:{width:"0",height:"100%",top:"0",left:t+"px",borderLeft:"1px dashed "+e.referenceLineColor,position:"absolute"}})})),this.matchedRows.map((function(t){return i.h("div",{style:{width:"100%",height:"0",left:"0",top:t+"px",borderTop:"1px dashed "+e.referenceLineColor,position:"absolute"}})}))):[]}},render:function(){return i.h("div",{style:{width:"100%",height:"100%",position:"relative"}},r([this.$slots["default"]&&this.$slots["default"]()],this.renderReferenceLine()))}})},1320:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var u=arguments[t],o=0,a=u.length;o<a;o++,i++)r[i]=u[o];return r};t.__esModule=!0,t.ALL_HANDLES=void 0;var u=n(1175),o=n(2665);n(6821);var a=n(7048);t.ALL_HANDLES=["tl","tm","tr","ml","mr","bl","bm","br"];var l={initW:{type:Number,default:null},initH:{type:Number,default:null},w:{type:Number,default:0},h:{type:Number,default:0},x:{type:Number,default:0},y:{type:Number,default:0},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},disabledX:{type:Boolean,default:!1},disabledY:{type:Boolean,default:!1},disabledW:{type:Boolean,default:!1},disabledH:{type:Boolean,default:!1},minW:{type:Number,default:20},minH:{type:Number,default:20},active:{type:Boolean,default:!1},parent:{type:Boolean,default:!1},handles:{type:Array,default:t.ALL_HANDLES,validator:function(e){return a.filterHandles(e).length===e.length}},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},lockAspectRatio:{type:Boolean,default:!1}},c=["activated","deactivated","drag-start","resize-start","dragging","resizing","drag-end","resize-end","update:w","update:h","update:x","update:y","update:active"],s=u.defineComponent({name:"Vue3DraggableResizable",props:l,emits:c,setup:function(e,t){var n=t.emit,i=o.initState(e,n),l=u.inject("identity",Symbol()),c=null;l===a.IDENTITY&&(c={updatePosition:u.inject("updatePosition"),getPositionStore:u.inject("getPositionStore"),disabled:u.inject("disabled"),adsorbParent:u.inject("adsorbParent"),adsorbCols:u.inject("adsorbCols"),adsorbRows:u.inject("adsorbRows"),setMatchedLine:u.inject("setMatchedLine")});var s=u.ref(),d=o.initParent(s),f=o.initLimitSizeAndMethods(e,d,i);o.initDraggableContainer(s,i,f,u.toRef(e,"draggable"),n,c,d);var v=o.initResizeHandle(i,f,d,e,n);return o.watchProps(e,f),r(r(r(r({containerRef:s,containerProvider:c},i),d),f),v)},computed:{style:function(){return{width:this.width+"px",height:this.height+"px",top:this.top+"px",left:this.left+"px"}},klass:function(){var e;return e={},e[this.classNameActive]=this.enable,e[this.classNameDragging]=this.dragging,e[this.classNameResizing]=this.resizing,e[this.classNameDraggable]=this.draggable,e[this.classNameResizable]=this.resizable,e}},mounted:function(){if(this.containerRef){this.containerRef.ondragstart=function(){return!1};var e=a.getElSize(this.containerRef),t=e.width,n=e.height;this.setWidth(null===this.initW?this.w||t:this.initW),this.setHeight(null===this.initH?this.h||n:this.initH),this.containerProvider&&this.containerProvider.updatePosition(this.id,{x:this.left,y:this.top,w:this.width,h:this.height})}},render:function(){var e=this;return u.h("div",{ref:"containerRef",class:["vdr-container",this.klass],style:this.style},i([this.$slots["default"]&&this.$slots["default"]()],this.handlesFiltered.map((function(t){return u.h("div",{class:["vdr-handle","vdr-handle-"+t,e.classNameHandle,e.classNameHandle+"-"+t],style:{display:e.enable?"block":"none"},onMousedown:function(n){return e.resizeHandleDown(n,t)},onTouchstart:function(n){return e.resizeHandleDown(n,t)}})}))))}});t["default"]=s},2665:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};t.__esModule=!0,t.watchProps=t.initResizeHandle=t.initDraggableContainer=t.initLimitSizeAndMethods=t.initParent=t.initState=t.useState=void 0;var i=n(1175),u=n(7048);function o(e){var t=i.ref(e),n=function(e){return t.value=e,e};return[t,n]}function a(e,t){var n=o(e.initW),r=n[0],a=n[1],l=o(e.initH),c=l[0],s=l[1],d=o(e.x),f=d[0],v=d[1],h=o(e.y),p=h[0],g=h[1],m=o(e.active),y=m[0],b=m[1],w=o(!1),R=w[0],x=w[1],M=o(!1),D=M[0],E=M[1],L=o(""),k=L[0],H=L[1],S=o(1/0),z=S[0],C=S[1],P=o(1/0),W=P[0],T=P[1],_=o(e.minW),A=_[0],N=_[1],F=o(e.minH),I=F[0],j=F[1],B=i.computed((function(){return c.value/r.value}));return i.watch(r,(function(e){t("update:w",e)}),{immediate:!0}),i.watch(c,(function(e){t("update:h",e)}),{immediate:!0}),i.watch(p,(function(e){t("update:y",e)})),i.watch(f,(function(e){t("update:x",e)})),i.watch(y,(function(e,n){t("update:active",e),!n&&e?t("activated"):n&&!e&&t("deactivated")})),i.watch((function(){return e.active}),(function(e){b(e)})),{id:u.getId(),width:r,height:c,top:p,left:f,enable:y,dragging:R,resizing:D,resizingHandle:k,resizingMaxHeight:W,resizingMaxWidth:z,resizingMinWidth:A,resizingMinHeight:I,aspectRatio:B,setEnable:b,setDragging:x,setResizing:E,setResizingHandle:H,setResizingMaxHeight:T,setResizingMaxWidth:C,setResizingMinWidth:N,setResizingMinHeight:j,setWidth:function(e){return a(Math.floor(e))},setHeight:function(e){return s(Math.floor(e))},setTop:function(e){return g(Math.floor(e))},setLeft:function(e){return v(Math.floor(e))}}}function l(e){var t=i.ref(0),n=i.ref(0);return i.onMounted((function(){if(e.value&&e.value.parentElement){var r=u.getElSize(e.value.parentElement),i=r.width,o=r.height;t.value=i,n.value=o}})),{parentWidth:t,parentHeight:n}}function c(e,t,n){var u=n.width,o=n.height,a=n.left,l=n.top,c=n.resizingMaxWidth,s=n.resizingMaxHeight,d=n.resizingMinWidth,f=n.resizingMinHeight,v=n.setWidth,h=n.setHeight,p=n.setTop,g=n.setLeft,m=t.parentWidth,y=t.parentHeight,b={minWidth:i.computed((function(){return d.value})),minHeight:i.computed((function(){return f.value})),maxWidth:i.computed((function(){var t=1/0;return e.parent&&(t=Math.min(m.value,c.value)),t})),maxHeight:i.computed((function(){var t=1/0;return e.parent&&(t=Math.min(y.value,s.value)),t})),minLeft:i.computed((function(){return e.parent?0:-1/0})),minTop:i.computed((function(){return e.parent?0:-1/0})),maxLeft:i.computed((function(){return e.parent?m.value-u.value:1/0})),maxTop:i.computed((function(){return e.parent?y.value-o.value:1/0}))},w={setWidth:function(t){return e.disabledW?u.value:v(Math.min(b.maxWidth.value,Math.max(b.minWidth.value,t)))},setHeight:function(t){return e.disabledH?o.value:h(Math.min(b.maxHeight.value,Math.max(b.minHeight.value,t)))},setTop:function(t){return e.disabledY?l.value:p(Math.min(b.maxTop.value,Math.max(b.minTop.value,t)))},setLeft:function(t){return e.disabledX?a.value:g(Math.min(b.maxLeft.value,Math.max(b.minLeft.value,t)))}};return r(r({},b),w)}t.useState=o,t.initState=a,t.initParent=l,t.initLimitSizeAndMethods=c;var s=["mousedown","touchstart"],d=["mouseup","touchend"],f=["mousemove","touchmove"];function v(e){return"touches"in e?[e.touches[0].pageX,e.touches[0].pageY]:[e.pageX,e.pageY]}function h(e,t,n,r,o,a,l){var c=t.left,h=t.top,p=t.width,g=t.height,m=t.dragging,y=t.id,b=t.setDragging,w=t.setEnable,R=t.setResizing,x=t.setResizingHandle,M=n.setTop,D=n.setLeft,E=0,L=0,k=0,H=0,S=null,z=document.documentElement,C=function(t){var n,r=t.target;(null===(n=e.value)||void 0===n?void 0:n.contains(r))||(w(!1),b(!1),R(!1),x(""))},P=function(){b(!1),u.removeEvent(z,d,P),u.removeEvent(z,f,W),S=null,a&&(a.updatePosition(y,{x:c.value,y:h.value,w:p.value,h:g.value}),a.setMatchedLine(null))},W=function(t){if(t.preventDefault(),m.value&&e.value){var n=v(t),r=n[0],i=n[1],u=r-k,l=i-H,c=E+u,s=L+l;if(null!==S){var d={col:[c,c+p.value/2,c+p.value],row:[s,s+g.value/2,s+g.value]},f={row:d.row.map((function(e,t){var n=null;return Object.values(S.row).forEach((function(t){e>=t.min&&e<=t.max&&(n=t.value)})),null!==n&&(0===t?s=n:1===t?s=Math.floor(n-g.value/2):2===t&&(s=Math.floor(n-g.value))),n})).filter((function(e){return null!==e})),col:d.col.map((function(e,t){var n=null;return Object.values(S.col).forEach((function(t){e>=t.min&&e<=t.max&&(n=t.value)})),null!==n&&(0===t?c=n:1===t?c=Math.floor(n-p.value/2):2===t&&(c=Math.floor(n-p.value))),n})).filter((function(e){return null!==e}))};a.setMatchedLine(f)}o("dragging",{x:D(c),y:M(s)})}},T=function(e){r.value&&(b(!0),E=c.value,L=h.value,k=v(e)[0],H=v(e)[1],u.addEvent(z,f,W),u.addEvent(z,d,P),a&&!a.disabled.value&&(S=u.getReferenceLineMap(a,l,y)))};return i.watch(m,(function(e,t){!t&&e?(o("drag-start",{x:c.value,y:h.value}),w(!0),b(!0)):(o("drag-end",{x:c.value,y:h.value}),b(!1))})),i.onMounted((function(){var t=e.value;t&&(t.style.left=c+"px",t.style.top=h+"px",u.addEvent(z,s,C),u.addEvent(t,s,T))})),i.onUnmounted((function(){e.value&&(u.removeEvent(z,s,C),u.removeEvent(z,d,P),u.removeEvent(z,f,W))})),{containerRef:e}}function p(e,t,n,r,o){var a=t.setWidth,l=t.setHeight,c=t.setLeft,s=t.setTop,h=e.width,p=e.height,g=e.left,m=e.top,y=e.aspectRatio,b=e.setResizing,w=e.setResizingHandle,R=e.setResizingMaxWidth,x=e.setResizingMaxHeight,M=e.setResizingMinWidth,D=e.setResizingMinHeight,E=n.parentWidth,L=n.parentHeight,k=0,H=0,S=0,z=0,C=0,P=0,W=1,T="",_="",A=document.documentElement,N=function(e){e.preventDefault();var t=v(e),n=t[0],i=t[1],u=n-C,d=i-P,f=u,y=d;r.lockAspectRatio&&(u=Math.abs(u),d=u*W,(f<0||"m"===_&&y<0)&&(u=-u,d=-d)),"t"===T?(l(H-d),s(z-(p.value-H))):"b"===T&&l(H+d),"l"===_?(a(k-u),c(S-(h.value-k))):"r"===_&&a(k+u),o("resizing",{x:g.value,y:m.value,w:h.value,h:p.value})},F=function(){o("resize-end",{x:g.value,y:m.value,w:h.value,h:p.value}),w(""),b(!1),R(1/0),x(1/0),M(r.minW),D(r.minH),u.removeEvent(A,f,N),u.removeEvent(A,d,F)},I=function(e,t){if(r.resizable){e.stopPropagation(),w(t),b(!0),T=t[0],_=t[1],r.lockAspectRatio&&(["tl","tm","ml","bl"].includes(t)?(T="t",_="l"):(T="b",_="r"));var n=r.minH,i=r.minW;if(r.lockAspectRatio&&(n/i>y.value?i=n/y.value:n=i*y.value),M(i),D(n),r.parent){var a="t"===T?m.value+p.value:L.value-m.value,l="l"===_?g.value+h.value:E.value-g.value;r.lockAspectRatio&&(a/l<y.value?l=a/y.value:a=l*y.value),x(a),R(l)}k=h.value,H=p.value,S=g.value,z=m.value;var c=v(e);C=c[0],P=c[1],W=y.value,o("resize-start",{x:g.value,y:m.value,w:h.value,h:p.value}),u.addEvent(A,f,N),u.addEvent(A,d,F)}};i.onUnmounted((function(){u.removeEvent(A,d,F),u.removeEvent(A,f,N)}));var j=i.computed((function(){return r.resizable?u.filterHandles(r.handles):[]}));return{handlesFiltered:j,resizeHandleDown:I}}function g(e,t){var n=t.setWidth,r=t.setHeight,u=t.setLeft,o=t.setTop;i.watch((function(){return e.w}),(function(e){n(e)})),i.watch((function(){return e.h}),(function(e){r(e)})),i.watch((function(){return e.x}),(function(e){u(e)})),i.watch((function(){return e.y}),(function(e){o(e)}))}t.initDraggableContainer=h,t.initResizeHandle=p,t.watchProps=g},7048:function(e,t,n){n(4114);var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};t.__esModule=!0,t.getReferenceLineMap=t.getId=t.filterHandles=t.removeEvent=t.addEvent=t.getElSize=t.IDENTITY=void 0;var i=n(1320);function u(e){var t=window.getComputedStyle(e);return{width:parseFloat(t.getPropertyValue("width")),height:parseFloat(t.getPropertyValue("height"))}}function o(e){return function(t,n,r){t&&("string"===typeof n&&(n=[n]),n.forEach((function(n){return t[e](n,r,{passive:!1})})))}}function a(e){if(e&&e.length>0){var t=[];return e.forEach((function(e){i.ALL_HANDLES.includes(e)&&!t.includes(e)&&t.push(e)})),t}return[]}function l(){return String(Math.random()).substr(2)+String(Date.now())}function c(e,t,n){var i,u;if(e.disabled.value)return null;var o={row:[],col:[]},a=t.parentWidth,l=t.parentHeight;(i=o.row).push.apply(i,e.adsorbRows),(u=o.col).push.apply(u,e.adsorbCols),e.adsorbParent.value&&(o.row.push(0,l.value,l.value/2),o.col.push(0,a.value,a.value/2));var c=e.getPositionStore(n);Object.values(c).forEach((function(e){var t=e.x,n=e.y,r=e.w,i=e.h;o.row.push(n,n+i,n+i/2),o.col.push(t,t+r,t+r/2)}));var s={row:o.row.reduce((function(e,t){var n;return r(r({},e),(n={},n[t]={min:t-5,max:t+5,value:t},n))}),{}),col:o.col.reduce((function(e,t){var n;return r(r({},e),(n={},n[t]={min:t-5,max:t+5,value:t},n))}),{})};return s}t.IDENTITY=Symbol("Vue3DraggableResizable"),t.getElSize=u,t.addEvent=o("addEventListener"),t.removeEvent=o("removeEventListener"),t.filterHandles=a,t.getId=l,t.getReferenceLineMap=c},3644:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]});t.__esModule=!0;var i=n(1320),u=n(4151);i["default"].install=function(e){return e.component(i["default"].name,i["default"]),e.component(u["default"].name,u["default"]),e};var o=n(4151);r(t,o,"default","DraggableContainer"),t["default"]=i["default"]},1175:function(e,t,n){n.r(t),n.d(t,{BaseTransition:function(){return r.pR},BaseTransitionPropsValidators:function(){return r.QP},Comment:function(){return r.Mw},DeprecationTypes:function(){return r.aT},EffectScope:function(){return r.yC},ErrorCodes:function(){return r.tG},ErrorTypeStrings:function(){return r.ZQ},Fragment:function(){return r.FK},KeepAlive:function(){return r.PR},ReactiveEffect:function(){return r.X2},Static:function(){return r.jC},Suspense:function(){return r.tY},Teleport:function(){return r.Im},Text:function(){return r.EY},TrackOpTypes:function(){return r.Ul},Transition:function(){return r.eB},TransitionGroup:function(){return r.F},TriggerOpTypes:function(){return r.PP},VueElement:function(){return r.Vy},assertNumber:function(){return r.U4},callWithAsyncErrorHandling:function(){return r.qL},callWithErrorHandling:function(){return r.gh},camelize:function(){return r.PT},capitalize:function(){return r.ZH},cloneVNode:function(){return r.E3},compatUtils:function(){return r.Y5},compile:function(){return i},computed:function(){return r.EW},createApp:function(){return r.Ef},createBlock:function(){return r.Wv},createCommentVNode:function(){return r.Q3},createElementBlock:function(){return r.CE},createElementVNode:function(){return r.Lk},createHydrationRenderer:function(){return r.ci},createPropsRestProxy:function(){return r.bn},createRenderer:function(){return r.K9},createSSRApp:function(){return r.m1},createSlots:function(){return r.eX},createStaticVNode:function(){return r.Fv},createTextVNode:function(){return r.eW},createVNode:function(){return r.bF},customRef:function(){return r.rY},defineAsyncComponent:function(){return r.$V},defineComponent:function(){return r.pM},defineCustomElement:function(){return r.Xq},defineEmits:function(){return r.qP},defineExpose:function(){return r.wk},defineModel:function(){return r.NP},defineOptions:function(){return r.GM},defineProps:function(){return r.Yj},defineSSRCustomElement:function(){return r.Po},defineSlots:function(){return r.Lu},devtools:function(){return r.lt},effect:function(){return r.QZ},effectScope:function(){return r.uY},getCurrentInstance:function(){return r.nI},getCurrentScope:function(){return r.o5},getTransitionRawChildren:function(){return r.Df},guardReactiveProps:function(){return r.Ng},h:function(){return r.h},handleError:function(){return r.H4},hasInjectionContext:function(){return r.PS},hydrate:function(){return r.Qv},initCustomFormatter:function(){return r.y$},initDirectivesForSSR:function(){return r.Ib},inject:function(){return r.WQ},isMemoSame:function(){return r.Bs},isProxy:function(){return r.ju},isReactive:function(){return r.g8},isReadonly:function(){return r.Tm},isRef:function(){return r.i9},isRuntimeOnly:function(){return r.dA},isShallow:function(){return r.fE},isVNode:function(){return r.vv},markRaw:function(){return r.IG},mergeDefaults:function(){return r.HF},mergeModels:function(){return r.zz},mergeProps:function(){return r.v6},nextTick:function(){return r.dY},normalizeClass:function(){return r.C4},normalizeProps:function(){return r._B},normalizeStyle:function(){return r.Tr},onActivated:function(){return r.n},onBeforeMount:function(){return r.KC},onBeforeUnmount:function(){return r.xo},onBeforeUpdate:function(){return r.Ic},onDeactivated:function(){return r.Y4},onErrorCaptured:function(){return r.qG},onMounted:function(){return r.sV},onRenderTracked:function(){return r.qR},onRenderTriggered:function(){return r.bj},onScopeDispose:function(){return r.jr},onServerPrefetch:function(){return r.SS},onUnmounted:function(){return r.hi},onUpdated:function(){return r.$u},openBlock:function(){return r.uX},popScopeId:function(){return r.jt},provide:function(){return r.Gt},proxyRefs:function(){return r.Pr},pushScopeId:function(){return r.Qi},queuePostFlushCb:function(){return r.Dl},reactive:function(){return r.Kh},readonly:function(){return r.tB},ref:function(){return r.KR},registerRuntimeCompiler:function(){return r.tC},render:function(){return r.XX},renderList:function(){return r.pI},renderSlot:function(){return r.RG},resolveComponent:function(){return r.g2},resolveDirective:function(){return r.gN},resolveDynamicComponent:function(){return r.$y},resolveFilter:function(){return r.LJ},resolveTransitionHooks:function(){return r.OW},setBlockTracking:function(){return r.Vq},setDevtoolsHook:function(){return r.iD},setTransitionHooks:function(){return r.MZ},shallowReactive:function(){return r.Gc},shallowReadonly:function(){return r.nD},shallowRef:function(){return r.IJ},ssrContextKey:function(){return r.Fw},ssrUtils:function(){return r.Gw},stop:function(){return r.ds},toDisplayString:function(){return r.v_},toHandlerKey:function(){return r.rU},toHandlers:function(){return r.Tb},toRaw:function(){return r.ux},toRef:function(){return r.lW},toRefs:function(){return r.QW},toValue:function(){return r.BA},transformVNodeArgs:function(){return r.gW},triggerRef:function(){return r.mu},unref:function(){return r.R1},useAttrs:function(){return r.OA},useCssModule:function(){return r.D},useCssVars:function(){return r.$9},useModel:function(){return r.fn},useSSRContext:function(){return r.LM},useSlots:function(){return r.Ht},useTransitionState:function(){return r.Gy},vModelCheckbox:function(){return r.lH},vModelDynamic:function(){return r.hp},vModelRadio:function(){return r.XL},vModelSelect:function(){return r.u1},vModelText:function(){return r.Jo},vShow:function(){return r.aG},version:function(){return r.rE},warn:function(){return r.R8},watch:function(){return r.wB},watchEffect:function(){return r.nT},watchPostEffect:function(){return r.p9},watchSyncEffect:function(){return r.U_},withAsyncContext:function(){return r.E},withCtx:function(){return r.k6},withDefaults:function(){return r.rO},withDirectives:function(){return r.bo},withKeys:function(){return r.jR},withMemo:function(){return r.bU},withModifiers:function(){return r.D$},withScopeId:function(){return r.YY}});var r=n(5130);
/**
* vue v3.4.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const i=()=>{0}},1742:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});n(4114);var r=n(6768),i=n(4232),u=n(5130),o=n(144),a=n(3644),l=n.n(a),c=n(8918),s={__name:"index",props:{config:{type:Object,default:{}}},emits:["onDragActived","onDragDeactivated"],setup(e,{emit:t}){const n=e,u=t,a=(0,o.KR)(""),s=e=>{a.value="mask-dragging"},d=e=>{a.value="mask-dragactive"},f=e=>{a.value="mask-dragactive",u("onDragActived",n.config)},v=e=>{a.value="",u("onDragDeactivated",n.config.modelKey)},h=(0,c.A)(n.config);return(e,t)=>((0,r.uX)(),(0,r.Wv)((0,o.R1)(l()),{class:"draggable-resizable",classNameDragging:"dragging",classNameActive:"active",initW:n.config.width,initH:n.config.height,x:n.config.x,"onUpdate:x":t[0]||(t[0]=e=>n.config.x=e),y:n.config.y,"onUpdate:y":t[1]||(t[1]=e=>n.config.y=e),w:n.config.width,"onUpdate:w":t[2]||(t[2]=e=>n.config.width=e),h:n.config.height,"onUpdate:h":t[3]||(t[3]=e=>n.config.height=e),parent:!1,resizable:!0,draggable:!0,onDragEnd:d,onDragging:s,onActivated:f,onDeactivated:v},{default:(0,r.k6)((()=>[(0,r.bF)((0,o.R1)(h),{width:n.config.width,height:n.config.height},null,8,["width","height"]),(0,r.Lk)("div",{class:(0,i.C4)([a.value,"mask"])},null,2)])),_:1},8,["initW","initH","x","y","w","h"]))}},d=n(1241);const f=(0,d.A)(s,[["__scopeId","data-v-606e8b56"]]);var v=f,h=(0,r.pM)({props:{rightMenuPositon:{type:Object,default:{}}},data(){return{mouseX:0,mouseY:0,display:"none",modelKey:null}},watch:{rightMenuPositon:{handler(e){const{x:t,y:n,modelKey:r}=e,{innerWidth:i,innerHeight:u}=window;this.mouseX=t+100>i?i-100:t,this.mouseY=n+28>u?u-28:n,this.display="block",this.modelKey=r,document.addEventListener("mouseup",this.onMouseup,!1)},deep:!0}},methods:{onDelete(){this.$emit("onDelete",this.modelKey)},onMouseup(e){0===e.button&&(this.display="none",document.removeEventListener("mouseup",this.onMouseup))}},render(){return(0,r.h)((0,r.bF)("ul",{class:"right-menu",style:{top:this.mouseY+"px",left:this.mouseX+"px",display:this.display}},[(0,r.bF)("li",{class:"right-menu-item",onClick:this.onDelete},[(0,r.bF)((0,r.g2)("el-space"),null,{default:()=>[(0,r.bF)((0,r.g2)("el-icon"),{size:14,color:"#6bacf2"},{default:()=>[(0,r.bF)((0,r.g2)("Delete"),null,null)]}),(0,r.bF)((0,r.g2)("el-text"),{type:"primary"},{default:()=>[(0,r.eW)("删除")]})]})])]))}});const p=(0,d.A)(h,[["__scopeId","data-v-3e26002d"]]);var g=p,m=n(4844),y=n(3785),b=n(1219);const w=e=>((0,r.Qi)("data-v-765d339c"),e=e(),(0,r.jt)(),e),R={class:"model-base"},x={class:"base-header"},M={class:"lf-box"},D={class:"center-box"},E=w((()=>(0,r.Lk)("p",null,"3D组件模型库",-1))),L={class:"lr-box"},k={class:"base-container"},H={class:"menu-list"},S=["onDragstart"],z={class:"model-image"},C={class:"model-info"},P={class:"model-name"},W={id:"drag-content"},T={key:1,class:"empty-tip"};var _={__name:"index",setup(e){const{$local:t}=(0,r.nI)().proxy,n=(0,o.KR)(t.get(m.BR)),l=(0,o.KR)([]),c=(0,o.KR)(null),s=(0,o.KR)({}),d=(e,t)=>{c.value=(0,y.A4)(t)},f=e=>{e.preventDefault()},h=e=>{e.preventDefault();const{x:t,y:n}=c.value;if(!t||!n)return c.value=null,!1;c.value.width=520,c.value.height=360,c.value.modelKey=(0,y.Cn)(20,2),l.value.push(c.value),c.value=null,l.value.length>=4&&b.nk.warning("请注意:模型组件加载过多会导致浏览器崩溃！！！")},p=e=>{e.preventDefault();const t=document.querySelector("#drag-content").getBoundingClientRect(),n=e.clientX-t.left-260,r=e.clientY-t.top-180;c.value.x=n,c.value.y=r},w=e=>{c.value=e},_=e=>{e==c.value.modelKey&&(c.value=null)},A=e=>{s.value={x:e.clientX,y:e.clientY,modelKey:c.value.modelKey},e.preventDefault()},N=e=>{l.value=l.value.filter((t=>t.modelKey!=e))},F=()=>{l.value=t.get(m.nV)||[]},I=()=>{t.set(m.nV,l.value),b.nk.success("更新成功")};return(0,r.sV)((async()=>{(0,r.dY)((()=>{F()})),window.addEventListener("keydown",(e=>{if(46===e.keyCode&&"Delete"==e.key&&c.value){const{modelKey:e}=c.value;l.value=l.value.filter((t=>t.modelKey!=e)),c.value=null}}))})),(e,t)=>{const c=(0,r.g2)("el-button"),m=(0,r.g2)("Film"),y=(0,r.g2)("el-icon"),b=(0,r.g2)("el-space"),F=(0,r.g2)("el-image"),j=(0,r.g2)("el-tooltip"),B=(0,r.g2)("el-scrollbar");return(0,r.uX)(),(0,r.CE)("div",R,[(0,r.Lk)("header",x,[(0,r.Lk)("div",M,[(0,r.bF)(c,{type:"primary",onClick:t[0]||(t[0]=t=>e.$router.push({path:"/"})),icon:"DArrowLeft"},{default:(0,r.k6)((()=>[(0,r.eW)("返回编辑器")])),_:1})]),(0,r.Lk)("div",D,[(0,r.bF)(b,null,{default:(0,r.k6)((()=>[(0,r.bF)(y,null,{default:(0,r.k6)((()=>[(0,r.bF)(m)])),_:1}),E])),_:1})]),(0,r.Lk)("div",L,[(0,r.bF)(b,null,{default:(0,r.k6)((()=>[(0,r.bF)(c,{type:"primary",icon:"Tickets",onClick:I},{default:(0,r.k6)((()=>[(0,r.eW)("保存数据")])),_:1})])),_:1})])]),(0,r.Lk)("div",k,[(0,r.bF)(B,{"max-height":"calc(100vh - 45px)",class:"base-menu"},{default:(0,r.k6)((()=>[(0,r.Lk)("ul",H,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.value,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.fileInfo.id,draggable:"true",onDragstart:t=>d(t,e),onDrag:t[1]||(t[1]=e=>f(e)),onDragend:h},[(0,r.Lk)("div",z,[(0,r.bF)(F,{draggable:"false",fit:"scale-down",src:e.fileInfo.icon},null,8,["src"])]),(0,r.Lk)("div",C,[(0,r.Lk)("div",P,[(0,r.bF)(j,{effect:"dark",content:e.fileInfo.name,placement:"top"},{default:(0,r.k6)((()=>[(0,r.Lk)("span",null,(0,i.v_)(e.fileInfo.name),1)])),_:2},1032,["content"])])])],40,S)))),128))])])),_:1},8,["max-height"]),(0,r.Lk)("div",W,[(0,r.Lk)("div",{class:"content",onDrop:p,onDragover:t[2]||(t[2]=(0,u.D$)((()=>{}),["prevent"]))},[l.value.length?((0,r.uX)(),(0,r.Wv)((0,o.R1)(a.DraggableContainer),{key:0,adsorbParent:!0,disabled:!0},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.value,(e=>((0,r.uX)(),(0,r.Wv)((0,o.R1)(v),{onOnDragActived:w,onOnDragDeactivated:_,onContextmenu:(0,u.D$)(A,["prevent"]),key:e.modelKey,config:e},null,8,["config"])))),128))])),_:1})):((0,r.uX)(),(0,r.CE)("div",T," 请拖拽添加多个!!!")),(0,r.bF)((0,o.R1)(g),{rightMenuPositon:s.value,onOnDelete:N},null,8,["rightMenuPositon"])],32)])])])}}};const A=(0,d.A)(_,[["__scopeId","data-v-765d339c"]]);var N=A}}]);
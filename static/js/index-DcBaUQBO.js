import{Q as Ae,R as Ce,C as $,D as Ne,_ as be,f as fe,o as ie,c as ge,w as ee,l as T,u as he,k as j,p as Ie,S as Te,I as ke,r as F,m as me,t as Oe,x as je,T as Be,j as ce,z as ze,F as Me,n as He,E as Re,A as Ye,q as Xe,s as Ke}from"./main-BacqxwQj.js";import{c as Ve}from"./initThreeTemplate-BnHMucCq.js";import{aU as Ue,aX as xe,aY as $e,aj as Fe}from"./CSS3DRenderer-CITJV_e9.js";var _e={},ve={};const ye=Ae(Ce);var N={},I={},Le;function we(){if(Le)return I;Le=1;var p=$&&$.__assign||function(){return p=Object.assign||function(h){for(var u,i=1,d=arguments.length;i<d;i++){u=arguments[i];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(h[f]=u[f])}return h},p.apply(this,arguments)};I.__esModule=!0,I.getReferenceLineMap=I.getId=I.filterHandles=I.removeEvent=I.addEvent=I.getElSize=I.IDENTITY=void 0;var l=We();I.IDENTITY=Symbol("Vue3DraggableResizable");function t(h){var u=window.getComputedStyle(h);return{width:parseFloat(u.getPropertyValue("width")),height:parseFloat(u.getPropertyValue("height"))}}I.getElSize=t;function s(h){return function(u,i,d){u&&(typeof i=="string"&&(i=[i]),i.forEach(function(f){return u[h](f,d,{passive:!1})}))}}I.addEvent=s("addEventListener"),I.removeEvent=s("removeEventListener");function o(h){if(h&&h.length>0){var u=[];return h.forEach(function(i){l.ALL_HANDLES.includes(i)&&!u.includes(i)&&u.push(i)}),u}else return[]}I.filterHandles=o;function v(){return String(Math.random()).substr(2)+String(Date.now())}I.getId=v;function L(h,u,i){var d,f;if(h.disabled.value)return null;var m={row:[],col:[]},H=u.parentWidth,e=u.parentHeight;(d=m.row).push.apply(d,h.adsorbRows),(f=m.col).push.apply(f,h.adsorbCols),h.adsorbParent.value&&(m.row.push(0,e.value,e.value/2),m.col.push(0,H.value,H.value/2));var r=h.getPositionStore(i);Object.values(r).forEach(function(n){var c=n.x,b=n.y,z=n.w,W=n.h;m.row.push(b,b+W,b+W/2),m.col.push(c,c+z,c+z/2)});var a={row:m.row.reduce(function(n,c){var b;return p(p({},n),(b={},b[c]={min:c-5,max:c+5,value:c},b))},{}),col:m.col.reduce(function(n,c){var b;return p(p({},n),(b={},b[c]={min:c-5,max:c+5,value:c},b))},{})};return a}return I.getReferenceLineMap=L,I}var Ee;function Pe(){if(Ee)return N;Ee=1;var p=$&&$.__assign||function(){return p=Object.assign||function(e){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e},p.apply(this,arguments)};N.__esModule=!0,N.watchProps=N.initResizeHandle=N.initDraggableContainer=N.initLimitSizeAndMethods=N.initParent=N.initState=N.useState=void 0;var l=ye,t=we();function s(e){var r=l.ref(e),a=function(n){return r.value=n,n};return[r,a]}N.useState=s;function o(e,r){var a=s(e.initW),n=a[0],c=a[1],b=s(e.initH),z=b[0],W=b[1],O=s(e.x),R=O[0],E=O[1],D=s(e.y),S=D[0],A=D[1],P=s(e.active),q=P[0],G=P[1],C=s(!1),te=C[0],M=C[1],re=s(!1),oe=re[0],J=re[1],B=s(""),Y=B[0],le=B[1],Z=s(1/0),ae=Z[0],ue=Z[1],w=s(1/0),x=w[0],K=w[1],ne=s(e.minW),se=ne[0],de=ne[1],V=s(e.minH),k=V[0],U=V[1],Q=l.computed(function(){return z.value/n.value});return l.watch(n,function(g){r("update:w",g)},{immediate:!0}),l.watch(z,function(g){r("update:h",g)},{immediate:!0}),l.watch(S,function(g){r("update:y",g)}),l.watch(R,function(g){r("update:x",g)}),l.watch(q,function(g,y){r("update:active",g),!y&&g?r("activated"):y&&!g&&r("deactivated")}),l.watch(function(){return e.active},function(g){G(g)}),{id:t.getId(),width:n,height:z,top:S,left:R,enable:q,dragging:te,resizing:oe,resizingHandle:Y,resizingMaxHeight:x,resizingMaxWidth:ae,resizingMinWidth:se,resizingMinHeight:k,aspectRatio:Q,setEnable:G,setDragging:M,setResizing:J,setResizingHandle:le,setResizingMaxHeight:K,setResizingMaxWidth:ue,setResizingMinWidth:de,setResizingMinHeight:U,setWidth:function(g){return c(Math.floor(g))},setHeight:function(g){return W(Math.floor(g))},setTop:function(g){return A(Math.floor(g))},setLeft:function(g){return E(Math.floor(g))}}}N.initState=o;function v(e){var r=l.ref(0),a=l.ref(0);return l.onMounted(function(){if(e.value&&e.value.parentElement){var n=t.getElSize(e.value.parentElement),c=n.width,b=n.height;r.value=c,a.value=b}}),{parentWidth:r,parentHeight:a}}N.initParent=v;function L(e,r,a){var n=a.width,c=a.height,b=a.left,z=a.top,W=a.resizingMaxWidth,O=a.resizingMaxHeight,R=a.resizingMinWidth,E=a.resizingMinHeight,D=a.setWidth,S=a.setHeight,A=a.setTop,P=a.setLeft,q=r.parentWidth,G=r.parentHeight,C={minWidth:l.computed(function(){return R.value}),minHeight:l.computed(function(){return E.value}),maxWidth:l.computed(function(){var M=1/0;return e.parent&&(M=Math.min(q.value,W.value)),M}),maxHeight:l.computed(function(){var M=1/0;return e.parent&&(M=Math.min(G.value,O.value)),M}),minLeft:l.computed(function(){return e.parent?0:-1/0}),minTop:l.computed(function(){return e.parent?0:-1/0}),maxLeft:l.computed(function(){return e.parent?q.value-n.value:1/0}),maxTop:l.computed(function(){return e.parent?G.value-c.value:1/0})},te={setWidth:function(M){return e.disabledW?n.value:D(Math.min(C.maxWidth.value,Math.max(C.minWidth.value,M)))},setHeight:function(M){return e.disabledH?c.value:S(Math.min(C.maxHeight.value,Math.max(C.minHeight.value,M)))},setTop:function(M){return e.disabledY?z.value:A(Math.min(C.maxTop.value,Math.max(C.minTop.value,M)))},setLeft:function(M){return e.disabledX?b.value:P(Math.min(C.maxLeft.value,Math.max(C.minLeft.value,M)))}};return p(p({},C),te)}N.initLimitSizeAndMethods=L;var h=["mousedown","touchstart"],u=["mouseup","touchend"],i=["mousemove","touchmove"];function d(e){return"touches"in e?[e.touches[0].pageX,e.touches[0].pageY]:[e.pageX,e.pageY]}function f(e,r,a,n,c,b,z){var W=r.left,O=r.top,R=r.width,E=r.height,D=r.dragging,S=r.id,A=r.setDragging,P=r.setEnable,q=r.setResizing,G=r.setResizingHandle,C=a.setTop,te=a.setLeft,M=0,re=0,oe=0,J=0,B=null,Y=document.documentElement,le=function(w){var x,K=w.target;!((x=e.value)===null||x===void 0)&&x.contains(K)||(P(!1),A(!1),q(!1),G(""))},Z=function(){A(!1),t.removeEvent(Y,u,Z),t.removeEvent(Y,i,ae),B=null,b&&(b.updatePosition(S,{x:W.value,y:O.value,w:R.value,h:E.value}),b.setMatchedLine(null))},ae=function(w){if(w.preventDefault(),!!(D.value&&e.value)){var x=d(w),K=x[0],ne=x[1],se=K-oe,de=ne-J,V=M+se,k=re+de;if(B!==null){var U={col:[V,V+R.value/2,V+R.value],row:[k,k+E.value/2,k+E.value]},Q={row:U.row.map(function(g,y){var _=null;return Object.values(B.row).forEach(function(X){g>=X.min&&g<=X.max&&(_=X.value)}),_!==null&&(y===0?k=_:y===1?k=Math.floor(_-E.value/2):y===2&&(k=Math.floor(_-E.value))),_}).filter(function(g){return g!==null}),col:U.col.map(function(g,y){var _=null;return Object.values(B.col).forEach(function(X){g>=X.min&&g<=X.max&&(_=X.value)}),_!==null&&(y===0?V=_:y===1?V=Math.floor(_-R.value/2):y===2&&(V=Math.floor(_-R.value))),_}).filter(function(g){return g!==null})};b.setMatchedLine(Q)}c("dragging",{x:te(V),y:C(k)})}},ue=function(w){n.value&&(A(!0),M=W.value,re=O.value,oe=d(w)[0],J=d(w)[1],t.addEvent(Y,i,ae),t.addEvent(Y,u,Z),b&&!b.disabled.value&&(B=t.getReferenceLineMap(b,z,S)))};return l.watch(D,function(w,x){!x&&w?(c("drag-start",{x:W.value,y:O.value}),P(!0),A(!0)):(c("drag-end",{x:W.value,y:O.value}),A(!1))}),l.onMounted(function(){var w=e.value;w&&(w.style.left=W+"px",w.style.top=O+"px",t.addEvent(Y,h,le),t.addEvent(w,h,ue))}),l.onUnmounted(function(){e.value&&(t.removeEvent(Y,h,le),t.removeEvent(Y,u,Z),t.removeEvent(Y,i,ae))}),{containerRef:e}}N.initDraggableContainer=f;function m(e,r,a,n,c){var b=r.setWidth,z=r.setHeight,W=r.setLeft,O=r.setTop,R=e.width,E=e.height,D=e.left,S=e.top,A=e.aspectRatio,P=e.setResizing,q=e.setResizingHandle,G=e.setResizingMaxWidth,C=e.setResizingMaxHeight,te=e.setResizingMinWidth,M=e.setResizingMinHeight,re=a.parentWidth,oe=a.parentHeight,J=0,B=0,Y=0,le=0,Z=0,ae=0,ue=1,w="",x="",K=document.documentElement,ne=function(k){k.preventDefault();var U=d(k),Q=U[0],g=U[1],y=Q-Z,_=g-ae,X=y,De=_;n.lockAspectRatio&&(y=Math.abs(y),_=y*ue,(X<0||x==="m"&&De<0)&&(y=-y,_=-_)),w==="t"?(z(B-_),O(le-(E.value-B))):w==="b"&&z(B+_),x==="l"?(b(J-y),W(Y-(R.value-J))):x==="r"&&b(J+y),c("resizing",{x:D.value,y:S.value,w:R.value,h:E.value})},se=function(){c("resize-end",{x:D.value,y:S.value,w:R.value,h:E.value}),q(""),P(!1),G(1/0),C(1/0),te(n.minW),M(n.minH),t.removeEvent(K,i,ne),t.removeEvent(K,u,se)},de=function(k,U){if(n.resizable){k.stopPropagation(),q(U),P(!0),w=U[0],x=U[1],n.lockAspectRatio&&(["tl","tm","ml","bl"].includes(U)?(w="t",x="l"):(w="b",x="r"));var Q=n.minH,g=n.minW;if(n.lockAspectRatio&&(Q/g>A.value?g=Q/A.value:Q=g*A.value),te(g),M(Q),n.parent){var y=w==="t"?S.value+E.value:oe.value-S.value,_=x==="l"?D.value+R.value:re.value-D.value;n.lockAspectRatio&&(y/_<A.value?_=y/A.value:y=_*A.value),C(y),G(_)}J=R.value,B=E.value,Y=D.value,le=S.value;var X=d(k);Z=X[0],ae=X[1],ue=A.value,c("resize-start",{x:D.value,y:S.value,w:R.value,h:E.value}),t.addEvent(K,i,ne),t.addEvent(K,u,se)}};l.onUnmounted(function(){t.removeEvent(K,u,se),t.removeEvent(K,i,ne)});var V=l.computed(function(){return n.resizable?t.filterHandles(n.handles):[]});return{handlesFiltered:V,resizeHandleDown:de}}N.initResizeHandle=m;function H(e,r){var a=r.setWidth,n=r.setHeight,c=r.setLeft,b=r.setTop;l.watch(function(){return e.w},function(z){a(z)}),l.watch(function(){return e.h},function(z){n(z)}),l.watch(function(){return e.x},function(z){c(z)}),l.watch(function(){return e.y},function(z){b(z)})}return N.watchProps=H,N}var Se;function We(){return Se||(Se=1,function(p){var l=$&&$.__assign||function(){return l=Object.assign||function(i){for(var d,f=1,m=arguments.length;f<m;f++){d=arguments[f];for(var H in d)Object.prototype.hasOwnProperty.call(d,H)&&(i[H]=d[H])}return i},l.apply(this,arguments)},t=$&&$.__spreadArrays||function(){for(var i=0,d=0,f=arguments.length;d<f;d++)i+=arguments[d].length;for(var m=Array(i),H=0,d=0;d<f;d++)for(var e=arguments[d],r=0,a=e.length;r<a;r++,H++)m[H]=e[r];return m};p.__esModule=!0,p.ALL_HANDLES=void 0;var s=ye,o=Pe(),v=we();p.ALL_HANDLES=["tl","tm","tr","ml","mr","bl","bm","br"];var L={initW:{type:Number,default:null},initH:{type:Number,default:null},w:{type:Number,default:0},h:{type:Number,default:0},x:{type:Number,default:0},y:{type:Number,default:0},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},disabledX:{type:Boolean,default:!1},disabledY:{type:Boolean,default:!1},disabledW:{type:Boolean,default:!1},disabledH:{type:Boolean,default:!1},minW:{type:Number,default:20},minH:{type:Number,default:20},active:{type:Boolean,default:!1},parent:{type:Boolean,default:!1},handles:{type:Array,default:p.ALL_HANDLES,validator:function(i){return v.filterHandles(i).length===i.length}},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},lockAspectRatio:{type:Boolean,default:!1}},h=["activated","deactivated","drag-start","resize-start","dragging","resizing","drag-end","resize-end","update:w","update:h","update:x","update:y","update:active"],u=s.defineComponent({name:"Vue3DraggableResizable",props:L,emits:h,setup:function(i,d){var f=d.emit,m=o.initState(i,f),H=s.inject("identity",Symbol()),e=null;H===v.IDENTITY&&(e={updatePosition:s.inject("updatePosition"),getPositionStore:s.inject("getPositionStore"),disabled:s.inject("disabled"),adsorbParent:s.inject("adsorbParent"),adsorbCols:s.inject("adsorbCols"),adsorbRows:s.inject("adsorbRows"),setMatchedLine:s.inject("setMatchedLine")});var r=s.ref(),a=o.initParent(r),n=o.initLimitSizeAndMethods(i,a,m);o.initDraggableContainer(r,m,n,s.toRef(i,"draggable"),f,e,a);var c=o.initResizeHandle(m,n,a,i,f);return o.watchProps(i,n),l(l(l(l({containerRef:r,containerProvider:e},m),a),n),c)},computed:{style:function(){return{width:this.width+"px",height:this.height+"px",top:this.top+"px",left:this.left+"px"}},klass:function(){var i;return i={},i[this.classNameActive]=this.enable,i[this.classNameDragging]=this.dragging,i[this.classNameResizing]=this.resizing,i[this.classNameDraggable]=this.draggable,i[this.classNameResizable]=this.resizable,i}},mounted:function(){if(this.containerRef){this.containerRef.ondragstart=function(){return!1};var i=v.getElSize(this.containerRef),d=i.width,f=i.height;this.setWidth(this.initW===null?this.w||d:this.initW),this.setHeight(this.initH===null?this.h||f:this.initH),this.containerProvider&&this.containerProvider.updatePosition(this.id,{x:this.left,y:this.top,w:this.width,h:this.height})}},render:function(){var i=this;return s.h("div",{ref:"containerRef",class:["vdr-container",this.klass],style:this.style},t([this.$slots.default&&this.$slots.default()],this.handlesFiltered.map(function(d){return s.h("div",{class:["vdr-handle","vdr-handle-"+d,i.classNameHandle,i.classNameHandle+"-"+d],style:{display:i.enable?"block":"none"},onMousedown:function(f){return i.resizeHandleDown(f,d)},onTouchstart:function(f){return i.resizeHandleDown(f,d)}})})))}});p.default=u}(ve)),ve}var pe={};(function(p){var l=$&&$.__spreadArrays||function(){for(var o=0,v=0,L=arguments.length;v<L;v++)o+=arguments[v].length;for(var h=Array(o),u=0,v=0;v<L;v++)for(var i=arguments[v],d=0,f=i.length;d<f;d++,u++)h[u]=i[d];return h};p.__esModule=!0;var t=ye,s=we();p.default=t.defineComponent({name:"DraggableContainer",props:{disabled:{type:Boolean,default:!1},adsorbParent:{type:Boolean,default:!0},adsorbCols:{type:Array,default:null},adsorbRows:{type:Array,default:null},referenceLineVisible:{type:Boolean,default:!0},referenceLineColor:{type:String,default:"#f00"}},setup:function(o){var v=t.reactive({}),L=function(m,H){v[m]=H},h=function(m){var H=Object.assign({},v);return m&&delete H[m],H},u=t.reactive({matchedLine:null}),i=t.computed(function(){return u.matchedLine&&u.matchedLine.row||[]}),d=t.computed(function(){return u.matchedLine&&u.matchedLine.col||[]}),f=function(m){u.matchedLine=m};return t.provide("identity",s.IDENTITY),t.provide("updatePosition",L),t.provide("getPositionStore",h),t.provide("setMatchedLine",f),t.provide("disabled",t.toRef(o,"disabled")),t.provide("adsorbParent",t.toRef(o,"adsorbParent")),t.provide("adsorbCols",o.adsorbCols||[]),t.provide("adsorbRows",o.adsorbRows||[]),{matchedRows:i,matchedCols:d}},methods:{renderReferenceLine:function(){var o=this;return this.referenceLineVisible?l(this.matchedCols.map(function(v){return t.h("div",{style:{width:"0",height:"100%",top:"0",left:v+"px",borderLeft:"1px dashed "+o.referenceLineColor,position:"absolute"}})}),this.matchedRows.map(function(v){return t.h("div",{style:{width:"100%",height:"0",left:"0",top:v+"px",borderTop:"1px dashed "+o.referenceLineColor,position:"absolute"}})})):[]}},render:function(){return t.h("div",{style:{width:"100%",height:"100%",position:"relative"}},l([this.$slots.default&&this.$slots.default()],this.renderReferenceLine()))}})})(pe);(function(p){var l=$&&$.__createBinding||(Object.create?function(v,L,h,u){u===void 0&&(u=h),Object.defineProperty(v,u,{enumerable:!0,get:function(){return L[h]}})}:function(v,L,h,u){u===void 0&&(u=h),v[u]=L[h]});p.__esModule=!0;var t=We(),s=pe;t.default.install=function(v){return v.component(t.default.name,t.default),v.component(s.default.name,s.default),v};var o=pe;l(p,o,"default","DraggableContainer"),p.default=t.default})(_e);const qe=Ne(_e),Ge={__name:"index",props:{config:{type:Object,default:{}}},emits:["onDragActived","onDragDeactivated"],setup(p,{emit:l}){const t=p,s=l,o=fe(""),v=d=>{o.value="mask-dragging"},L=d=>{o.value="mask-dragactive"},h=d=>{o.value="mask-dragactive",s("onDragActived",t.config)},u=d=>{o.value="",s("onDragDeactivated",t.config.modelKey)},i=Ve(t.config);return(d,f)=>(ie(),ge(he(qe),{class:"draggable-resizable",classNameDragging:"dragging",classNameActive:"active",initW:t.config.width,initH:t.config.height,x:t.config.x,"onUpdate:x":f[0]||(f[0]=m=>t.config.x=m),y:t.config.y,"onUpdate:y":f[1]||(f[1]=m=>t.config.y=m),w:t.config.width,"onUpdate:w":f[2]||(f[2]=m=>t.config.width=m),h:t.config.height,"onUpdate:h":f[3]||(f[3]=m=>t.config.height=m),parent:!1,resizable:!0,draggable:!0,onDragEnd:L,onDragging:v,onActivated:h,onDeactivated:u},{default:ee(()=>[T(he(i),{width:t.config.width,height:t.config.height},null,8,["width","height"]),j("div",{class:Ie([o.value,"mask"])},null,2)]),_:1},8,["initW","initH","x","y","w","h"]))}},Qe=be(Ge,[["__scopeId","data-v-caa7bc1b"]]),Je=Te({props:{rightMenuPositon:{type:Object,default:{}}},data(){return{mouseX:0,mouseY:0,display:"none",modelKey:null}},watch:{rightMenuPositon:{handler(p){const{x:l,y:t,modelKey:s}=p,{innerWidth:o,innerHeight:v}=window;this.mouseX=l+100>o?o-100:l,this.mouseY=t+28>v?v-28:t,this.display="block",this.modelKey=s,document.addEventListener("mouseup",this.onMouseup,!1)},deep:!0}},methods:{onDelete(){this.$emit("onDelete",this.modelKey)},onMouseup(p){p.button===0&&(this.display="none",document.removeEventListener("mouseup",this.onMouseup))}},render(){return ke(T("ul",{class:"right-menu",style:{top:this.mouseY+"px",left:this.mouseX+"px",display:this.display}},[T("li",{class:"right-menu-item",onClick:this.onDelete},[T(F("el-space"),null,{default:()=>[T(F("el-icon"),{size:14,color:"#6bacf2"},{default:()=>[T(F("Delete"),null,null)]}),T(F("el-text"),{type:"primary"},{default:()=>[me("删除")]})]})])]))}}),Ze=be(Je,[["__scopeId","data-v-87376345"]]),et=p=>(Xe("data-v-05bf55fe"),p=p(),Ke(),p),tt={class:"model-base"},at={class:"base-header"},nt={class:"lf-box"},it={class:"center-box"},rt=et(()=>j("p",null,"3D组件模型库",-1)),lt={class:"lr-box"},st={class:"base-container"},ot={class:"menu-list"},ut=["onDragstart"],dt={class:"model-image"},ct={class:"model-info"},ft={class:"model-name"},vt={id:"drag-content"},gt={key:1,class:"empty-tip"},ht={__name:"index",setup(p){const{$local:l}=Oe().proxy,t=fe(l.get(Ue)),s=fe([]),o=fe(null),v=fe({}),L=(a,n)=>{o.value=$e(n)},h=a=>{a.preventDefault()},u=a=>{a.preventDefault();const{x:n,y:c}=o.value;if(!n||!c)return o.value=null,!1;o.value.width=520,o.value.height=360,o.value.modelKey=Fe(20,2),s.value.push(o.value),o.value=null,s.value.length>=4&&Re.warning("请注意:模型组件加载过多会导致浏览器崩溃！！！")},i=a=>{a.preventDefault();const n=document.querySelector("#drag-content").getBoundingClientRect(),c=a.clientX-n.left-520/2,b=a.clientY-n.top-360/2;o.value.x=c,o.value.y=b},d=a=>{o.value=a},f=a=>{a==o.value.modelKey&&(o.value=null)},m=a=>{v.value={x:a.clientX,y:a.clientY,modelKey:o.value.modelKey},a.preventDefault()},H=a=>{s.value=s.value.filter(n=>n.modelKey!=a)},e=()=>{s.value=l.get(xe)||[]},r=()=>{l.set(xe,s.value),Re.success("更新成功")};return je(async()=>{Be(()=>{e()}),window.addEventListener("keydown",a=>{if(a.keyCode===46&&a.key=="Delete"&&o.value){const{modelKey:n}=o.value;s.value=s.value.filter(c=>c.modelKey!=n),o.value=null}})}),(a,n)=>{const c=F("el-button"),b=F("Film"),z=F("el-icon"),W=F("el-space"),O=F("el-image"),R=F("el-tooltip"),E=F("el-scrollbar");return ie(),ce("div",tt,[j("header",at,[j("div",nt,[T(c,{type:"primary",onClick:n[0]||(n[0]=D=>a.$router.push({path:"/"})),icon:"DArrowLeft"},{default:ee(()=>[me("返回编辑器")]),_:1})]),j("div",it,[T(W,null,{default:ee(()=>[T(z,null,{default:ee(()=>[T(b)]),_:1}),rt]),_:1})]),j("div",lt,[T(W,null,{default:ee(()=>[T(c,{type:"primary",icon:"Tickets",onClick:r},{default:ee(()=>[me("保存数据")]),_:1})]),_:1})])]),j("div",st,[T(E,{"max-height":"calc(100vh - 45px)",class:"base-menu"},{default:ee(()=>[j("ul",ot,[(ie(!0),ce(Me,null,He(t.value,D=>(ie(),ce("li",{key:D.fileInfo.id,draggable:"true",onDragstart:S=>L(S,D),onDrag:n[1]||(n[1]=S=>h(S)),onDragend:u},[j("div",dt,[T(O,{draggable:"false",fit:"scale-down",src:D.fileInfo.icon},null,8,["src"])]),j("div",ct,[j("div",ft,[T(R,{effect:"dark",content:D.fileInfo.name,placement:"top"},{default:ee(()=>[j("span",null,Ye(D.fileInfo.name),1)]),_:2},1032,["content"])])])],40,ut))),128))])]),_:1}),j("div",vt,[j("div",{class:"content",onDrop:i,onDragover:n[2]||(n[2]=ze(()=>{},["prevent"]))},[s.value.length?(ie(),ge(he(_e.DraggableContainer),{key:0,adsorbParent:!0,disabled:!0},{default:ee(()=>[(ie(!0),ce(Me,null,He(s.value,D=>(ie(),ge(Qe,{onOnDragActived:d,onOnDragDeactivated:f,onContextmenu:ze(m,["prevent"]),key:D.modelKey,config:D},null,8,["config"]))),128))]),_:1})):(ie(),ce("div",gt,"请拖拽添加多个!!!")),T(Ze,{rightMenuPositon:v.value,onOnDelete:H},null,8,["rightMenuPositon"])],32)])])])}}},_t=be(ht,[["__scopeId","data-v-05bf55fe"]]);export{_t as default};
